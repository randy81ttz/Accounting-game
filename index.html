<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“± ì˜ë‹¨ì–´ OX í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Gasoek+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .font-title {
            font-family: 'Gasoek One', sans-serif;
        }
        .card {
            transition: all 0.3s ease;
        }
        .btn-ox {
            transition: all 0.2s ease;
        }
        .btn-ox:active {
            transform: scale(0.95);
        }
        .feedback-correct {
            color: #2ecc71;
            animation: fadeIn 0.5s;
        }
        .feedback-incorrect {
            color: #e74c3c;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-sky-100 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-md mx-auto">
        
        <!-- ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="text-center bg-white p-8 rounded-2xl shadow-lg">
            <h1 class="text-4xl font-title text-sky-600 mb-4">ì˜ë‹¨ì–´ OX í€´ì¦ˆ</h1>
            <p class="text-gray-600 mb-8">ì˜ì–´ ë‹¨ì–´ë¥¼ ë³´ê³  ëœ»ì´ ë§ëŠ”ì§€ O, Xë¡œ ë‹µí•´ë´!</p>
            <button id="start-btn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-4 rounded-xl text-2xl shadow-md transition-transform transform hover:scale-105">
                í€´ì¦ˆ ì‹œì‘!
            </button>
        </div>

        <!-- í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="hidden">
            <div class="text-center mb-4">
                <p id="progress-text" class="text-lg font-semibold text-gray-700">ë¬¸ì œ 1 / 12</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div id="progress-bar" class="bg-amber-400 h-2.5 rounded-full" style="width: 8%"></div>
                </div>
            </div>

            <div id="card" class="card bg-white p-8 rounded-2xl shadow-lg text-center mb-6 min-h-[200px] flex flex-col justify-center">
                <p id="word" class="text-6xl font-bold text-sky-700 mb-3"></p>
                <p id="meaning" class="text-4xl text-gray-800"></p>
            </div>

            <div id="ox-buttons" class="grid grid-cols-2 gap-4">
                <button data-answer="O" class="btn-ox bg-green-500 hover:bg-green-600 text-white font-bold text-6xl py-8 rounded-2xl shadow-md">O</button>
                <button data-answer="X" class="btn-ox bg-red-500 hover:bg-red-600 text-white font-bold text-6xl py-8 rounded-2xl shadow-md">X</button>
            </div>
            
            <div id="feedback-container" class="mt-6 text-center min-h-[120px]">
                <div id="feedback-result" class="text-4xl font-bold mb-2"></div>
                <div id="feedback-sentence" class="text-lg text-gray-700 bg-gray-100 p-3 rounded-lg"></div>
                <button id="next-btn" class="hidden w-full mt-4 bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-xl text-xl shadow-md">
                    ë‹¤ìŒ ë¬¸ì œ
                </button>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden text-center bg-white p-8 rounded-2xl shadow-lg">
            <h2 class="text-3xl font-bold text-sky-600 mb-2">ì°¸ ì˜í–ˆì–´ìš”!</h2>
            <p id="score-text" class="text-2xl text-gray-700 mb-6"></p>
            <div id="result-message" class="text-xl text-amber-600 font-semibold mb-8"></div>
            <button id="retry-btn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-4 rounded-xl text-2xl shadow-md transition-transform transform hover:scale-105">
                ë‹¤ì‹œ í’€ì–´ë³´ê¸°
            </button>
        </div>

    </div>

    <script>
        const words = [
            { word: 'apple', meaning: 'ì‚¬ê³¼', example: 'I ate an apple.', example_kr: 'ë‚˜ëŠ” ì‚¬ê³¼ë¥¼ ë¨¹ì—ˆë‹¤.' },
            { word: 'book', meaning: 'ì±…', example: 'I read a book.', example_kr: 'ë‚˜ëŠ” ì±…ì„ ì½ëŠ”ë‹¤.' },
            { word: 'cat', meaning: 'ê³ ì–‘ì´', example: 'The cat is cute.', example_kr: 'ê·¸ ê³ ì–‘ì´ëŠ” ê·€ì—½ë‹¤.' },
            { word: 'dog', meaning: 'ê°œ', example: 'The dog is big.', example_kr: 'ê·¸ ê°œëŠ” í¬ë‹¤.' },
            { word: 'egg', meaning: 'ê³„ë€', example: 'I like to eat eggs.', example_kr: 'ë‚˜ëŠ” ê³„ë€ ë¨¹ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤.' },
            { word: 'flower', meaning: 'ê½ƒ', example: 'The flower is beautiful.', example_kr: 'ê·¸ ê½ƒì€ ì•„ë¦„ë‹µë‹¤.' },
            { word: 'grape', meaning: 'í¬ë„', example: 'Grapes are sweet.', example_kr: 'í¬ë„ëŠ” ë‹¬ì½¤í•˜ë‹¤.' },
            { word: 'hat', meaning: 'ëª¨ì', example: 'I have a new hat.', example_kr: 'ë‚˜ëŠ” ìƒˆ ëª¨ìê°€ ìˆë‹¤.' },
            { word: 'ice', meaning: 'ì–¼ìŒ', example: 'The ice is cold.', example_kr: 'ì–¼ìŒì€ ì°¨ê°‘ë‹¤.' },
            { word: 'juice', meaning: 'ì£¼ìŠ¤', example: 'I drink orange juice.', example_kr: 'ë‚˜ëŠ” ì˜¤ë Œì§€ ì£¼ìŠ¤ë¥¼ ë§ˆì‹ ë‹¤.' },
            { word: 'key', meaning: 'ì—´ì‡ ', example: 'This is the key to the door.', example_kr: 'ì´ê²ƒì€ ê·¸ ë¬¸ì˜ ì—´ì‡ ì´ë‹¤.' },
            { word: 'lion', meaning: 'ì‚¬ì', example: 'The lion is the king of the jungle.', example_kr: 'ì‚¬ìëŠ” ì •ê¸€ì˜ ì™•ì´ë‹¤.' }
        ];

        // UI ìš”ì†Œ
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const nextBtn = document.getElementById('next-btn');
        
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const wordEl = document.getElementById('word');
        const meaningEl = document.getElementById('meaning');
        const oxButtons = document.getElementById('ox-buttons');
        
        const feedbackResult = document.getElementById('feedback-result');
        const feedbackSentence = document.getElementById('feedback-sentence');
        
        const scoreText = document.getElementById('score-text');
        const resultMessage = document.getElementById('result-message');

        // í€´ì¦ˆ ìƒíƒœ ë³€ìˆ˜
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;

        // í€´ì¦ˆ ì‹œì‘
        startBtn.addEventListener('click', startQuiz);
        retryBtn.addEventListener('click', startQuiz);

        // O, X ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        oxButtons.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                checkAnswer(e.target.dataset.answer);
            }
        });

        // ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼ í´ë¦­
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        });

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            createQuizQuestions();
            
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            showQuestion();
        }

        // í€´ì¦ˆ ë¬¸ì œ ìƒì„± (O/X ëœë¤ ë°°í•©)
        function createQuizQuestions() {
            quizQuestions = [];
            const shuffledWords = [...words].sort(() => Math.random() - 0.5);

            for (let i = 0; i < shuffledWords.length; i++) {
                const currentWord = shuffledWords[i];
                let question = {};
                
                // 50% í™•ë¥ ë¡œ ì •ë‹µ(O) ë˜ëŠ” ì˜¤ë‹µ(X) ë¬¸ì œ ìƒì„±
                if (Math.random() > 0.5) {
                    // ì •ë‹µ ë¬¸ì œ
                    question = {
                        word: currentWord.word,
                        meaning: currentWord.meaning,
                        isCorrect: true, // Oê°€ ì •ë‹µ
                        example: currentWord.example,
                        example_kr: currentWord.example_kr
                    };
                } else {
                    // ì˜¤ë‹µ ë¬¸ì œ
                    let wrongMeaning;
                    do {
                        // ë‹¤ë¥¸ ë‹¨ì–´ì˜ ëœ»ì„ ë¬´ì‘ìœ„ë¡œ ê°€ì ¸ì˜´
                        const randomWord = words[Math.floor(Math.random() * words.length)];
                        wrongMeaning = randomWord.meaning;
                    } while (wrongMeaning === currentWord.meaning); // ì›ë˜ ëœ»ê³¼ ê°™ì§€ ì•Šì„ ë•Œê¹Œì§€ ë°˜ë³µ

                    question = {
                        word: currentWord.word,
                        meaning: wrongMeaning,
                        isCorrect: false, // Xê°€ ì •ë‹µ
                        correctMeaning: currentWord.meaning,
                        example: currentWord.example,
                        example_kr: currentWord.example_kr
                    };
                }
                quizQuestions.push(question);
            }
        }

        function showQuestion() {
            // í”¼ë“œë°± ì´ˆê¸°í™”
            feedbackResult.textContent = '';
            feedbackSentence.innerHTML = '';
            feedbackSentence.classList.add('hidden');
            nextBtn.classList.add('hidden');
            oxButtons.classList.remove('hidden');
            document.getElementById('card').style.transform = 'scale(1)';
            document.getElementById('card').style.borderColor = 'transparent';

            const question = quizQuestions[currentQuestionIndex];
            wordEl.textContent = question.word;
            meaningEl.textContent = question.meaning;

            // ì§„í–‰ ìƒíƒœ ì—…ë°ì´íŠ¸
            progressText.textContent = `ë¬¸ì œ ${currentQuestionIndex + 1} / ${quizQuestions.length}`;
            const progressPercentage = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }
        
        function checkAnswer(userAnswer) {
            const question = quizQuestions[currentQuestionIndex];
            const card = document.getElementById('card');
            
            // O, X ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            oxButtons.classList.add('hidden');
            nextBtn.classList.remove('hidden');

            const isUserCorrect = (question.isCorrect && userAnswer === 'O') || (!question.isCorrect && userAnswer === 'X');

            if (isUserCorrect) {
                score++;
                feedbackResult.textContent = 'ë”©ë™ëŒ•! ì •ë‹µ! ğŸ¥³';
                feedbackResult.className = 'feedback-correct text-4xl font-bold mb-2';
                card.style.borderColor = '#2ecc71';
                card.style.transform = 'rotate(5deg)';
                feedbackSentence.innerHTML = `<strong>${question.word}:</strong> ${question.isCorrect ? question.meaning : question.correctMeaning}<br><small>${question.example}</small>`;
            } else {
                feedbackResult.textContent = 'ì•„ì‰¬ì›Œìš”! ğŸ˜¥';
                feedbackResult.className = 'feedback-incorrect text-4xl font-bold mb-2';
                card.style.borderColor = '#e74c3c';
                card.style.transform = 'rotate(-5deg)';
                feedbackSentence.innerHTML = `ì •ë‹µì€ <strong>'${question.word}'</strong>ì˜ ëœ»ì€ <strong>'${question.isCorrect ? question.meaning : question.correctMeaning}'</strong>ì´ì—ìš”.<br><small>${question.example}</small>`;
            }
            
            feedbackSentence.classList.remove('hidden');
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            scoreText.textContent = `${quizQuestions.length}ê°œ ì¤‘ì— ${score}ê°œë¥¼ ë§í˜”ì–´ìš”!`;
            
            let message = '';
            const percentage = (score / quizQuestions.length) * 100;
            if (percentage === 100) {
                message = 'ì™€, ì™„ë²½í•´ìš”! ì˜ì–´ ë‹¨ì–´ ë°•ì‚¬ë‹˜ì´ë„¤ìš”! ğŸ†';
            } else if (percentage >= 70) {
                message = 'ì •ë§ ì˜í–ˆì–´ìš”! ì¡°ê¸ˆë§Œ ë”í•˜ë©´ ë‹¤ ë§í ìˆ˜ ìˆê² ì–´ìš”! ğŸ‘';
            } else if (percentage >= 50) {
                message = 'ì¢‹ì•„ìš”! ìê¾¸ í•˜ë‹¤ ë³´ë©´ ì‹¤ë ¥ì´ ì‘¥ì‘¥ ëŠ˜ ê±°ì˜ˆìš”! ğŸ˜Š';
            } else {
                message = 'ê´œì°®ì•„! ë‹¤ì‹œ í•œë²ˆ ë„ì „í•´ë³¼ê¹Œìš”? í•  ìˆ˜ ìˆì–´ìš”! ğŸ’ª';
            }
            resultMessage.textContent = message;
        }
    </script>
</body>
</html>

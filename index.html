<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>우리아들 영단어 OX 퀴즈</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Gasoek+One&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .font-title {
            font-family: 'Gasoek One', sans-serif;
        }
        .card {
            transition: all 0.3s ease;
            border: 4px solid transparent;
        }
        .btn-ox {
            transition: all 0.2s ease;
        }
        .btn-ox:active {
            transform: scale(0.95);
        }
        .feedback-correct {
            color: #2ecc71;
            animation: fadeIn 0.5s;
        }
        .feedback-incorrect {
            color: #e74c3c;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-sky-100 flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-md mx-auto">
        
        <!-- 시작 화면 -->
        <div id="start-screen" class="text-center bg-white p-8 rounded-2xl shadow-lg">
            <h1 class="text-4xl font-title text-sky-600 mb-4">우리아들 영단어 OX 퀴즈</h1>
            <p class="text-gray-600 mb-8">영어 단어를 보고 뜻이 맞는지 O, X로 답해봐!</p>
            <button id="start-btn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-4 rounded-xl text-2xl shadow-md transition-transform transform hover:scale-105">
                퀴즈 시작!
            </button>
        </div>

        <!-- 퀴즈 화면 -->
        <div id="quiz-screen" class="hidden">
            <div class="text-center mb-4">
                <p id="progress-text" class="text-lg font-semibold text-gray-700">문제 1 / 12</p>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-2">
                    <div id="progress-bar" class="bg-amber-400 h-2.5 rounded-full" style="width: 8%"></div>
                </div>
            </div>

            <div id="card" class="card bg-white p-8 rounded-2xl shadow-lg text-center mb-6 min-h-[200px] flex flex-col justify-center">
                <p id="word" class="text-6xl font-bold text-sky-700 mb-3"></p>
                <p id="meaning" class="text-4xl text-gray-800"></p>
            </div>

            <div id="ox-buttons" class="grid grid-cols-2 gap-4">
                <button data-answer="O" class="btn-ox bg-green-500 hover:bg-green-600 text-white font-bold text-6xl py-8 rounded-2xl shadow-md">O</button>
                <button data-answer="X" class="btn-ox bg-red-500 hover:bg-red-600 text-white font-bold text-6xl py-8 rounded-2xl shadow-md">X</button>
            </div>
            
            <div id="feedback-container" class="mt-6 text-center min-h-[120px]">
                <div id="feedback-result" class="text-4xl font-bold mb-2"></div>
                <div id="feedback-sentence" class="text-lg text-gray-700 bg-gray-100 p-3 rounded-lg"></div>
                <button id="next-btn" class="hidden w-full mt-4 bg-sky-500 hover:bg-sky-600 text-white font-bold py-3 px-4 rounded-xl text-xl shadow-md">
                    다음 문제
                </button>
            </div>
        </div>

        <!-- 결과 화면 -->
        <div id="result-screen" class="hidden text-center bg-white p-8 rounded-2xl shadow-lg">
            <h2 class="text-3xl font-bold text-sky-600 mb-2">참 잘했어요!</h2>
            <p id="score-text" class="text-2xl text-gray-700 mb-6"></p>
            <div id="result-message" class="text-xl text-amber-600 font-semibold mb-8"></div>
            <button id="retry-btn" class="w-full bg-sky-500 hover:bg-sky-600 text-white font-bold py-4 px-4 rounded-xl text-2xl shadow-md transition-transform transform hover:scale-105">
                다시 풀어보기
            </button>
        </div>

    </div>

    <script>
        // 요청하신 새로운 단어 목록으로 교체했습니다.
        const words = [
            { word: 'pat', meaning: '쓰다듬다', example: 'I can pat the dog.' },
            { word: 'goldfish', meaning: '금붕어', example: 'There is a goldfish in the tank.' },
            { word: 'bowl', meaning: '그릇', example: 'Put the fish in the bowl.' },
            { word: 'watch', meaning: '보다', example: "Don't watch too much TV." },
            { word: 'pet', meaning: '애완동물', example: 'Do you have a pet?' },
            { word: 'new', meaning: '새로운', example: 'They moved to a new house.' },
            { word: 'dog', meaning: '개', example: 'The dog barks.' },
            { word: 'cat', meaning: '고양이', example: 'Jenny likes cats.' },
            { word: 'fish', meaning: '물고기', example: 'The fish swims.' },
            { word: 'net', meaning: '그물', example: "Let's use a net to catch butterflies." },
            { word: 'shake', meaning: '흔들다', example: 'James shakes the box.' },
            { word: 'chick', meaning: '병아리', example: 'The chick is yellow.' }
        ];

        // UI 요소
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const nextBtn = document.getElementById('next-btn');
        
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const wordEl = document.getElementById('word');
        const meaningEl = document.getElementById('meaning');
        const oxButtons = document.getElementById('ox-buttons');
        
        const feedbackResult = document.getElementById('feedback-result');
        const feedbackSentence = document.getElementById('feedback-sentence');
        
        const scoreText = document.getElementById('score-text');
        const resultMessage = document.getElementById('result-message');

        // 퀴즈 상태 변수
        let quizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;

        // 퀴즈 시작
        startBtn.addEventListener('click', startQuiz);
        retryBtn.addEventListener('click', startQuiz);

        // O, X 버튼 클릭 이벤트
        oxButtons.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                checkAnswer(e.target.dataset.answer);
            }
        });

        // 다음 문제 버튼 클릭
        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                showQuestion();
            } else {
                showResults();
            }
        });

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            createQuizQuestions();
            
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            showQuestion();
        }

        // 퀴즈 문제 생성 (O/X 랜덤 배합)
        function createQuizQuestions() {
            quizQuestions = [];
            const shuffledWords = [...words].sort(() => Math.random() - 0.5);

            for (let i = 0; i < shuffledWords.length; i++) {
                const currentWord = shuffledWords[i];
                let question = {};
                
                // 50% 확률로 정답(O) 또는 오답(X) 문제 생성
                if (Math.random() > 0.5) {
                    // 정답 문제
                    question = {
                        word: currentWord.word,
                        meaning: currentWord.meaning,
                        isCorrect: true, // O가 정답
                        example: currentWord.example
                    };
                } else {
                    // 오답 문제
                    let wrongMeaning;
                    do {
                        // 다른 단어의 뜻을 무작위로 가져옴
                        const randomWord = words[Math.floor(Math.random() * words.length)];
                        wrongMeaning = randomWord.meaning;
                    } while (wrongMeaning === currentWord.meaning); // 원래 뜻과 같지 않을 때까지 반복

                    question = {
                        word: currentWord.word,
                        meaning: wrongMeaning,
                        isCorrect: false, // X가 정답
                        correctMeaning: currentWord.meaning,
                        example: currentWord.example
                    };
                }
                quizQuestions.push(question);
            }
        }

        function showQuestion() {
            // 피드백 초기화
            feedbackResult.textContent = '';
            feedbackSentence.innerHTML = '';
            feedbackSentence.classList.add('hidden');
            nextBtn.classList.add('hidden');
            oxButtons.classList.remove('hidden');
            document.getElementById('card').style.transform = 'scale(1)';
            document.getElementById('card').style.borderColor = 'transparent';

            const question = quizQuestions[currentQuestionIndex];
            wordEl.textContent = question.word;
            meaningEl.textContent = question.meaning;

            // 진행 상태 업데이트
            progressText.textContent = `문제 ${currentQuestionIndex + 1} / ${quizQuestions.length}`;
            const progressPercentage = ((currentQuestionIndex + 1) / quizQuestions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
        }
        
        function checkAnswer(userAnswer) {
            const question = quizQuestions[currentQuestionIndex];
            const card = document.getElementById('card');
            
            // O, X 버튼 숨기기
            oxButtons.classList.add('hidden');
            nextBtn.classList.remove('hidden');

            const isUserCorrect = (question.isCorrect && userAnswer === 'O') || (!question.isCorrect && userAnswer === 'X');

            if (isUserCorrect) {
                score++;
                feedbackResult.textContent = '딩동댕! 정답! 🥳';
                feedbackResult.className = 'feedback-correct text-4xl font-bold mb-2';
                card.style.borderColor = '#2ecc71';
                card.style.transform = 'rotate(5deg)';
                feedbackSentence.innerHTML = `<strong>${question.word}:</strong> ${question.isCorrect ? question.meaning : question.correctMeaning}<br><small>${question.example}</small>`;
            } else {
                feedbackResult.textContent = '아쉬워요! 😥';
                feedbackResult.className = 'feedback-incorrect text-4xl font-bold mb-2';
                card.style.borderColor = '#e74c3c';
                card.style.transform = 'rotate(-5deg)';
                feedbackSentence.innerHTML = `정답은 <strong>'${question.word}'</strong>의 뜻은 <strong>'${question.isCorrect ? question.meaning : question.correctMeaning}'</strong>이에요.<br><small>${question.example}</small>`;
            }
            
            feedbackSentence.classList.remove('hidden');
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            scoreText.textContent = `${quizQuestions.length}개 중에 ${score}개를 맞혔어요!`;
            
            let message = '';
            const percentage = (score / quizQuestions.length) * 100;
            if (percentage === 100) {
                message = '와, 완벽해요! 영어 단어 박사님이네요! 🏆';
            } else if (percentage >= 70) {
                message = '정말 잘했어요! 조금만 더하면 다 맞힐 수 있겠어요! 👍';
            } else if (percentage >= 50) {
                message = '좋아요! 자꾸 하다 보면 실력이 쑥쑥 늘 거예요! 😊';
            } else {
                message = '괜찮아! 다시 한번 도전해볼까요? 할 수 있어요! 💪';
            }
            resultMessage.textContent = message;
        }
    </script>
</body>
</html>
